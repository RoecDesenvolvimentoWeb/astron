import { AtomBtn } from "@atom/AtomBtn";
import { AtomNextPageBtn } from "@atom/AtomNextPageBtn";
import { useMediaQuery } from "hooks/useMediaQuery";
import { ReactElement } from "react";
import { Out } from "resources/api/server/contracts/member-report";

interface Page {
    number: number
}

interface IMolMemberPaginationProps {
    pages: Page[]
    result: Out
    total: number
    onagePageChange: (page: number) => unknown
    onReportExport: () => unknown
}

export const MolMemberPagination = (props: IMolMemberPaginationProps): ReactElement => {
    const md = useMediaQuery("(max-width: 768px)")
    const exportContent = (
        md ?
            <AtomBtn
                onClick={props.onReportExport}
                className="flex flex-row gap-1 w-full bg-gradient-to-r from-lilas-lv1 to-lilas-lv5 justify-center items-center">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M5 15.833H15" stroke="#F6F8F9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M10 3.33301H11.6667V5.83301H13.75L10 9.58301M10 3.33301H8.33333V5.83301H6.25L10 9.58301" fill="#F6F8F9"/>
                    <path d="M10 3.33301H11.6667V5.83301H13.75L10 9.58301L6.25 5.83301H8.33333V3.33301H10Z" stroke="#F6F8F9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <span>Exportar relat√≥rio</span>
            </AtomBtn>
            :
            <svg
                onClick={props.onReportExport}
                className="cursor-pointer" width="188" height="25" viewBox="0 0 188 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 20H18" stroke="#D25AC4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M12 5H14V8H16.5L12 12.5M12 5H10V8H7.5L12 12.5" fill="#D25AC4"/>
                <path d="M12 5H14V8H16.5L12 12.5L7.5 8H10V5H12Z" stroke="#D25AC4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M29.593 19V6.4H37.972V8.452H31.933V11.503H37.099V13.42H31.933V16.93H38.035V19H29.593ZM39.4141 19.018L42.6631 14.509L39.5941 10H42.5011L44.2561 12.889L45.9571 10H48.7921L45.8131 14.455L49.0351 19H46.0831L44.1751 16.048L42.2401 18.982L39.4141 19.018ZM50.6015 22.78V10H52.6355V11.188C52.9835 10.75 53.4305 10.399 53.9765 10.135C54.5225 9.865 55.1825 9.73 55.9565 9.73C56.8265 9.73 57.6005 9.934 58.2785 10.342C58.9565 10.75 59.4875 11.314 59.8715 12.034C60.2615 12.748 60.4565 13.57 60.4565 14.5C60.4565 15.166 60.3455 15.787 60.1235 16.363C59.9015 16.939 59.5895 17.446 59.1875 17.884C58.7855 18.316 58.3055 18.655 57.7475 18.901C57.1955 19.147 56.5865 19.27 55.9205 19.27C55.2725 19.27 54.6965 19.159 54.1925 18.937C53.6945 18.709 53.2625 18.4 52.8965 18.01V22.78H50.6015ZM55.5335 17.254C56.0435 17.254 56.4965 17.143 56.8925 16.921C57.2885 16.693 57.6005 16.375 57.8285 15.967C58.0565 15.553 58.1705 15.064 58.1705 14.5C58.1705 13.936 58.0565 13.447 57.8285 13.033C57.6005 12.619 57.2855 12.301 56.8835 12.079C56.4875 11.857 56.0375 11.746 55.5335 11.746C55.0235 11.746 54.5705 11.857 54.1745 12.079C53.7785 12.301 53.4665 12.619 53.2385 13.033C53.0105 13.447 52.8965 13.936 52.8965 14.5C52.8965 15.064 53.0075 15.553 53.2295 15.967C53.4575 16.375 53.7695 16.693 54.1655 16.921C54.5675 17.143 55.0235 17.254 55.5335 17.254ZM66.6162 19.27C65.6562 19.27 64.8042 19.054 64.0602 18.622C63.3222 18.184 62.7432 17.605 62.3232 16.885C61.9032 16.159 61.6932 15.364 61.6932 14.5C61.6932 13.864 61.8132 13.258 62.0532 12.682C62.2932 12.106 62.6322 11.599 63.0702 11.161C63.5142 10.717 64.0362 10.369 64.6362 10.117C65.2362 9.859 65.8962 9.73 66.6162 9.73C67.5702 9.73 68.4162 9.946 69.1542 10.378C69.8982 10.81 70.4802 11.389 70.9002 12.115C71.3262 12.841 71.5392 13.636 71.5392 14.5C71.5392 15.136 71.4162 15.742 71.1702 16.318C70.9302 16.888 70.5912 17.395 70.1532 17.839C69.7152 18.283 69.1962 18.634 68.5962 18.892C67.9962 19.144 67.3362 19.27 66.6162 19.27ZM66.6162 17.254C67.1202 17.254 67.5702 17.143 67.9662 16.921C68.3682 16.693 68.6832 16.375 68.9112 15.967C69.1392 15.553 69.2532 15.064 69.2532 14.5C69.2532 13.936 69.1392 13.447 68.9112 13.033C68.6832 12.619 68.3712 12.301 67.9752 12.079C67.5792 11.857 67.1262 11.746 66.6162 11.746C66.1062 11.746 65.6502 11.857 65.2482 12.079C64.8522 12.301 64.5402 12.619 64.3122 13.033C64.0902 13.447 63.9792 13.936 63.9792 14.5C63.9792 15.064 64.0932 15.553 64.3212 15.967C64.5492 16.375 64.8612 16.693 65.2572 16.921C65.6532 17.143 66.1062 17.254 66.6162 17.254ZM73.4355 19V10H75.7395V11.179C76.0515 10.651 76.4415 10.276 76.9095 10.054C77.3835 9.832 77.8935 9.721 78.4395 9.721C78.6315 9.721 78.8085 9.73 78.9705 9.748C79.1325 9.766 79.2885 9.793 79.4385 9.829L79.1505 12.205C78.9645 12.139 78.7695 12.091 78.5655 12.061C78.3675 12.025 78.1695 12.007 77.9715 12.007C77.3235 12.007 76.7895 12.202 76.3695 12.592C75.9495 12.976 75.7395 13.516 75.7395 14.212V19H73.4355ZM84.9602 19.27C84.0362 19.27 83.3042 19.006 82.7642 18.478C82.2242 17.95 81.9542 17.152 81.9542 16.084V7.39H84.2582V10H86.6252V11.872H84.2582V15.625C84.2582 16.201 84.3722 16.609 84.6002 16.849C84.8282 17.083 85.1432 17.2 85.5452 17.2C85.7492 17.2 85.9412 17.176 86.1212 17.128C86.3072 17.08 86.4782 17.017 86.6342 16.939L86.9942 18.775C86.7302 18.913 86.4212 19.03 86.0672 19.126C85.7132 19.222 85.3442 19.27 84.9602 19.27ZM80.0552 11.872V10H82.2152V11.872H80.0552ZM92.6843 19.27C91.8023 19.27 91.0193 19.066 90.3353 18.658C89.6573 18.25 89.1233 17.686 88.7333 16.966C88.3433 16.246 88.1483 15.424 88.1483 14.5C88.1483 13.804 88.2593 13.165 88.4813 12.583C88.7033 12.001 89.0153 11.497 89.4173 11.071C89.8253 10.645 90.3053 10.315 90.8573 10.081C91.4153 9.847 92.0243 9.73 92.6843 9.73C93.5543 9.73 94.2863 9.916 94.8803 10.288C95.4743 10.66 95.9183 11.143 96.2123 11.737L95.8883 12.232V10H97.9133V19H95.8883V16.768L96.2123 17.263C95.9183 17.857 95.4743 18.34 94.8803 18.712C94.2863 19.084 93.5543 19.27 92.6843 19.27ZM93.0263 17.254C93.5243 17.254 93.9683 17.143 94.3583 16.921C94.7483 16.693 95.0573 16.375 95.2853 15.967C95.5133 15.553 95.6273 15.064 95.6273 14.5C95.6273 13.936 95.5133 13.447 95.2853 13.033C95.0573 12.619 94.7483 12.301 94.3583 12.079C93.9683 11.857 93.5243 11.746 93.0263 11.746C92.5283 11.746 92.0813 11.857 91.6853 12.079C91.2953 12.301 90.9863 12.619 90.7583 13.033C90.5363 13.447 90.4253 13.936 90.4253 14.5C90.4253 15.064 90.5363 15.553 90.7583 15.967C90.9863 16.375 91.2953 16.693 91.6853 16.921C92.0813 17.143 92.5283 17.254 93.0263 17.254ZM100.576 19V10H102.88V11.179C103.192 10.651 103.582 10.276 104.05 10.054C104.524 9.832 105.034 9.721 105.58 9.721C105.772 9.721 105.949 9.73 106.111 9.748C106.273 9.766 106.429 9.793 106.579 9.829L106.291 12.205C106.105 12.139 105.91 12.091 105.706 12.061C105.508 12.025 105.31 12.007 105.112 12.007C104.464 12.007 103.93 12.202 103.51 12.592C103.09 12.976 102.88 13.516 102.88 14.212V19H100.576ZM112.494 19V10H114.798V11.179C115.11 10.651 115.5 10.276 115.968 10.054C116.442 9.832 116.952 9.721 117.498 9.721C117.69 9.721 117.867 9.73 118.029 9.748C118.191 9.766 118.347 9.793 118.497 9.829L118.209 12.205C118.023 12.139 117.828 12.091 117.624 12.061C117.426 12.025 117.228 12.007 117.03 12.007C116.382 12.007 115.848 12.202 115.428 12.592C115.008 12.976 114.798 13.516 114.798 14.212V19H112.494ZM124.07 19.27C123.092 19.27 122.234 19.072 121.496 18.676C120.758 18.274 120.182 17.716 119.768 17.002C119.36 16.288 119.156 15.457 119.156 14.509C119.156 13.813 119.273 13.174 119.507 12.592C119.747 12.01 120.083 11.506 120.515 11.08C120.953 10.648 121.463 10.315 122.045 10.081C122.633 9.847 123.275 9.73 123.971 9.73C124.727 9.73 125.402 9.865 125.996 10.135C126.59 10.399 127.082 10.774 127.472 11.26C127.868 11.74 128.144 12.304 128.3 12.952C128.462 13.594 128.483 14.296 128.363 15.058H121.325C121.319 15.532 121.43 15.946 121.658 16.3C121.892 16.654 122.222 16.933 122.648 17.137C123.08 17.335 123.587 17.434 124.169 17.434C124.685 17.434 125.18 17.359 125.654 17.209C126.128 17.059 126.569 16.837 126.977 16.543L127.787 18.154C127.505 18.382 127.154 18.58 126.734 18.748C126.314 18.916 125.87 19.045 125.402 19.135C124.94 19.225 124.496 19.27 124.07 19.27ZM121.46 13.42H126.131C126.113 12.814 125.912 12.34 125.528 11.998C125.144 11.65 124.607 11.476 123.917 11.476C123.233 11.476 122.669 11.65 122.225 11.998C121.781 12.34 121.526 12.814 121.46 13.42ZM130.336 19V6.04H132.64V19H130.336ZM139.073 19.27C138.191 19.27 137.408 19.066 136.724 18.658C136.046 18.25 135.512 17.686 135.122 16.966C134.732 16.246 134.537 15.424 134.537 14.5C134.537 13.804 134.648 13.165 134.87 12.583C135.092 12.001 135.404 11.497 135.806 11.071C136.214 10.645 136.694 10.315 137.246 10.081C137.804 9.847 138.413 9.73 139.073 9.73C139.943 9.73 140.675 9.916 141.269 10.288C141.863 10.66 142.307 11.143 142.601 11.737L142.277 12.232V10H144.302V19H142.277V16.768L142.601 17.263C142.307 17.857 141.863 18.34 141.269 18.712C140.675 19.084 139.943 19.27 139.073 19.27ZM139.415 17.254C139.913 17.254 140.357 17.143 140.747 16.921C141.137 16.693 141.446 16.375 141.674 15.967C141.902 15.553 142.016 15.064 142.016 14.5C142.016 13.936 141.902 13.447 141.674 13.033C141.446 12.619 141.137 12.301 140.747 12.079C140.357 11.857 139.913 11.746 139.415 11.746C138.917 11.746 138.47 11.857 138.074 12.079C137.684 12.301 137.375 12.619 137.147 13.033C136.925 13.447 136.814 13.936 136.814 14.5C136.814 15.064 136.925 15.553 137.147 15.967C137.375 16.375 137.684 16.693 138.074 16.921C138.47 17.143 138.917 17.254 139.415 17.254ZM150.808 19.27C149.884 19.27 149.152 19.006 148.612 18.478C148.072 17.95 147.802 17.152 147.802 16.084V7.39H150.106V10H152.473V11.872H150.106V15.625C150.106 16.201 150.22 16.609 150.448 16.849C150.676 17.083 150.991 17.2 151.393 17.2C151.597 17.2 151.789 17.176 151.969 17.128C152.155 17.08 152.326 17.017 152.482 16.939L152.842 18.775C152.578 18.913 152.269 19.03 151.915 19.126C151.561 19.222 151.192 19.27 150.808 19.27ZM145.903 11.872V10H148.063V11.872H145.903ZM158.919 19.27C157.959 19.27 157.107 19.054 156.363 18.622C155.625 18.184 155.046 17.605 154.626 16.885C154.206 16.159 153.996 15.364 153.996 14.5C153.996 13.864 154.116 13.258 154.356 12.682C154.596 12.106 154.935 11.599 155.373 11.161C155.817 10.717 156.339 10.369 156.939 10.117C157.539 9.859 158.199 9.73 158.919 9.73C159.873 9.73 160.719 9.946 161.457 10.378C162.201 10.81 162.783 11.389 163.203 12.115C163.629 12.841 163.842 13.636 163.842 14.5C163.842 15.136 163.719 15.742 163.473 16.318C163.233 16.888 162.894 17.395 162.456 17.839C162.018 18.283 161.499 18.634 160.899 18.892C160.299 19.144 159.639 19.27 158.919 19.27ZM158.919 17.254C159.423 17.254 159.873 17.143 160.269 16.921C160.671 16.693 160.986 16.375 161.214 15.967C161.442 15.553 161.556 15.064 161.556 14.5C161.556 13.936 161.442 13.447 161.214 13.033C160.986 12.619 160.674 12.301 160.278 12.079C159.882 11.857 159.429 11.746 158.919 11.746C158.409 11.746 157.953 11.857 157.551 12.079C157.155 12.301 156.843 12.619 156.615 13.033C156.393 13.447 156.282 13.936 156.282 14.5C156.282 15.064 156.396 15.553 156.624 15.967C156.852 16.375 157.164 16.693 157.56 16.921C157.956 17.143 158.409 17.254 158.919 17.254ZM157.731 8.47L159.441 5.284H161.754L159.828 8.47H157.731ZM165.738 19V10H168.042V11.179C168.354 10.651 168.744 10.276 169.212 10.054C169.686 9.832 170.196 9.721 170.742 9.721C170.934 9.721 171.111 9.73 171.273 9.748C171.435 9.766 171.591 9.793 171.741 9.829L171.453 12.205C171.267 12.139 171.072 12.091 170.868 12.061C170.67 12.025 170.472 12.007 170.274 12.007C169.626 12.007 169.092 12.202 168.672 12.592C168.252 12.976 168.042 13.516 168.042 14.212V19H165.738ZM173.332 19V10H175.636V19H173.332ZM174.484 8.488C174.088 8.488 173.746 8.362 173.458 8.11C173.17 7.858 173.026 7.525 173.026 7.111C173.026 6.697 173.17 6.364 173.458 6.112C173.746 5.86 174.088 5.734 174.484 5.734C174.88 5.734 175.222 5.86 175.51 6.112C175.798 6.364 175.942 6.697 175.942 7.111C175.942 7.525 175.798 7.858 175.51 8.11C175.222 8.362 174.88 8.488 174.484 8.488ZM182.456 19.27C181.496 19.27 180.644 19.054 179.9 18.622C179.162 18.184 178.583 17.605 178.163 16.885C177.743 16.159 177.533 15.364 177.533 14.5C177.533 13.864 177.653 13.258 177.893 12.682C178.133 12.106 178.472 11.599 178.91 11.161C179.354 10.717 179.876 10.369 180.476 10.117C181.076 9.859 181.736 9.73 182.456 9.73C183.41 9.73 184.256 9.946 184.994 10.378C185.738 10.81 186.32 11.389 186.74 12.115C187.166 12.841 187.379 13.636 187.379 14.5C187.379 15.136 187.256 15.742 187.01 16.318C186.77 16.888 186.431 17.395 185.993 17.839C185.555 18.283 185.036 18.634 184.436 18.892C183.836 19.144 183.176 19.27 182.456 19.27ZM182.456 17.254C182.96 17.254 183.41 17.143 183.806 16.921C184.208 16.693 184.523 16.375 184.751 15.967C184.979 15.553 185.093 15.064 185.093 14.5C185.093 13.936 184.979 13.447 184.751 13.033C184.523 12.619 184.211 12.301 183.815 12.079C183.419 11.857 182.966 11.746 182.456 11.746C181.946 11.746 181.49 11.857 181.088 12.079C180.692 12.301 180.38 12.619 180.152 13.033C179.93 13.447 179.819 13.936 179.819 14.5C179.819 15.064 179.933 15.553 180.161 15.967C180.389 16.375 180.701 16.693 181.097 16.921C181.493 17.143 181.946 17.254 182.456 17.254Z" fill="#D25AC4"/>
            </svg>
    )
    return (
        <>
            <div className="flex flex-col md:flex-row gap-x-[108px]">
                <div>
                    <span className="text-neutral-400 text-sm font-normal font-['Geologica'] leading-tight">Mostrando </span>
                    <span className="text-neutral-600 text-sm font-normal font-['Geologica'] leading-tight">{
                        props.result.pages.reduce((p, c): number => p + c.items.length ,0)
                    }</span>
                    <span className="text-neutral-400 text-sm font-normal font-['Geologica'] leading-tight"> de </span>
                    <span className="text-neutral-600 text-sm font-normal font-['Geologica'] leading-tight">{props.total}</span>
                    <span className="text-neutral-400 text-sm font-normal font-['Geologica'] leading-tight"> registros</span>
                </div>
                <div className="flex w-fit mx-auto md:mx-0 md:w-auto flex-row gap-x-[20px] md:gap-x-[16px] pt-4 md:pt-0 select-none">
                    {props.pages.map((r, i) => <AtomNextPageBtn
                        onClick={(): void => {
                            props.onagePageChange(r.number)
                        }}
                        key={i}
                        page={r.number}/> )}
                </div>
                <div className="pt-4 md:pt-0">
                    {exportContent}
                </div>
            </div>
        </>
    )
}