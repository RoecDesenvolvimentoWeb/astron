import { AtomCard } from "@atom/AtomCard";
import { MolMemberPaymentUpdate } from "@mols/panel/MolMemberPaymentUpdate";
import { ReactElement, useEffect, useState } from "react";
import { ILastPayment } from "resources/api/server/contracts/ServerApiModel";

interface IOrgPanelMemberPaymentUpdateProps {
    data: ILastPayment[]
}

export const OrgPanelMemberPaymentUpdate = ({ data }: IOrgPanelMemberPaymentUpdateProps): ReactElement => {
    const [lastPayments, setLastPayments] = useState<ILastPayment[]>([])

    useEffect(() => {
        setLastPayments(data)
    }, [data])
    return (
        <>
            <AtomCard className="flex-col bg-white overflow-y-auto min-h-[550px] max-h-[550px] !w-[20%] min-w-fit !px-[25px] py-[32px] max-4xl:!w-full">
                <div className="flex flex-row space-x-[7px] h-fit w-full min-w-[25px] min-h-[30px] items-start">
                    <div className="text-zinc-700 text-xl font-medium font-['Geologica'] leading-7">
            Atualizações
                    </div>
                    <svg
                        width="19"
                        height="18"
                        viewBox="0 0 19 18"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                        <path
                            d="M2.72299 7.6666C2.82649 7.18874 2.97183 6.71968 3.16122 6.26825C3.13259 6.33871 3.10176 6.40918 3.07313 6.47965C3.33518 5.86305 3.67211 5.28389 4.08171 4.75318C4.03546 4.81264 3.98922 4.87209 3.94297 4.93155C4.34816 4.40744 4.81722 3.93839 5.34132 3.531C5.28187 3.57724 5.22241 3.62349 5.16295 3.66973C5.68926 3.26454 6.26622 2.92761 6.87841 2.66776C6.80794 2.69639 6.73748 2.72722 6.66701 2.75585C7.30783 2.48719 7.97948 2.30661 8.66654 2.21412C8.58947 2.22513 8.51019 2.23614 8.43312 2.24495C9.11358 2.15687 9.80064 2.15687 10.4789 2.24715C10.4018 2.23614 10.3225 2.22513 10.2455 2.21632C10.9259 2.30881 11.591 2.49379 12.2252 2.76025C12.1547 2.73162 12.0843 2.70079 12.0138 2.67217C12.6304 2.93642 13.2117 3.27555 13.7425 3.68735C13.683 3.6411 13.6235 3.59486 13.5641 3.54861C14.0794 3.9516 14.544 4.41405 14.9448 4.93155C14.8986 4.87209 14.8523 4.81264 14.8061 4.75318C15.2135 5.28169 15.5504 5.86085 15.8103 6.47524C15.7816 6.40478 15.7508 6.33431 15.7222 6.26384C15.8983 6.68885 16.0393 7.12708 16.1406 7.57411C16.2419 8.02334 16.7858 8.33164 17.224 8.1885C17.6953 8.03656 17.9485 7.58732 17.8384 7.10505C17.5015 5.62082 16.7572 4.23788 15.7156 3.1258C14.707 2.04896 13.4099 1.24959 12.0072 0.804758C10.5494 0.34231 8.96824 0.30047 7.47959 0.639598C5.96893 0.985333 4.55516 1.76489 3.44309 2.84173C2.35964 3.88994 1.55806 5.23765 1.14626 6.68885C1.09782 6.85621 1.05818 7.02578 1.02074 7.19534C0.970094 7.42657 0.987711 7.6666 1.10883 7.8736C1.21673 8.05638 1.42594 8.23034 1.63514 8.27879C1.85976 8.32944 2.113 8.31843 2.31339 8.19071C2.50498 8.07179 2.67454 7.89122 2.72299 7.6666Z"
                            fill="#402451"
                        />
                        <path
                            d="M17.2687 3.89653C16.9406 4.83464 16.6125 5.77495 16.2844 6.71305C16.2381 6.84518 16.1919 6.97731 16.1456 7.11164C16.5068 6.90684 16.8679 6.70204 17.2291 6.49725C16.291 6.16913 15.3507 5.84101 14.4125 5.51289C14.2804 5.46665 14.1483 5.4204 14.014 5.37416C13.807 5.30149 13.5207 5.35434 13.3357 5.46224C13.1529 5.57015 12.979 5.77935 12.9305 5.98855C12.8799 6.21317 12.8909 6.46642 13.0186 6.66681C13.1485 6.8672 13.3181 6.99272 13.5449 7.072C14.483 7.40012 15.4233 7.72824 16.3614 8.05635C16.4936 8.1026 16.6257 8.14884 16.76 8.19509C16.9582 8.26556 17.2643 8.21931 17.4383 8.107C17.6387 7.97708 17.7642 7.80751 17.8435 7.58069C18.1716 6.64259 18.4997 5.70228 18.8278 4.76417C18.8741 4.63204 18.9203 4.49991 18.9666 4.36558C19.0392 4.15858 18.9864 3.8723 18.8785 3.68733C18.7706 3.50455 18.5614 3.33058 18.3522 3.28213C18.1275 3.23148 17.8743 3.2425 17.6739 3.37022C17.4735 3.49794 17.348 3.66971 17.2687 3.89653Z"
                            fill="#402451"
                        />
                        <path
                            d="M16.2777 10.3334C16.1742 10.8112 16.0289 11.2803 15.8395 11.7317C15.8681 11.6613 15.8989 11.5908 15.9276 11.5203C15.6655 12.1369 15.3286 12.7161 14.919 13.2468C14.9652 13.1873 15.0115 13.1279 15.0577 13.0684C14.6525 13.5925 14.1835 14.0616 13.6594 14.469C13.7188 14.4227 13.7783 14.3765 13.8377 14.3302C13.3114 14.7354 12.7345 15.0724 12.1223 15.3322C12.1927 15.3036 12.2632 15.2728 12.3337 15.2441C11.6929 15.5128 11.0212 15.6934 10.3341 15.7859C10.4112 15.7748 10.4905 15.7638 10.5676 15.755C9.88712 15.8431 9.20005 15.8431 8.5218 15.7528C8.59887 15.7638 8.67815 15.7748 8.75522 15.7837C8.07476 15.6912 7.40972 15.5062 6.77551 15.2397C6.84597 15.2684 6.91644 15.2992 6.98691 15.3278C6.37031 15.0636 5.78895 14.7244 5.25824 14.3126C5.3177 14.3589 5.37715 14.4051 5.43661 14.4514C4.92131 14.0484 4.45666 13.5859 4.05587 13.0684C4.10212 13.1279 4.14836 13.1873 4.19461 13.2468C3.78721 12.7183 3.45029 12.1391 3.19044 11.5247C3.21906 11.5952 3.24989 11.6657 3.27852 11.7361C3.10235 11.3111 2.96141 10.8729 2.86012 10.4259C2.75882 9.97664 2.21489 9.66834 1.77667 9.81148C1.30541 9.96343 1.05217 10.4127 1.16227 10.8949C1.4992 12.3792 2.24352 13.7621 3.28513 14.8742C4.2937 15.951 5.59076 16.7504 6.99352 17.1952C8.45133 17.6577 10.0325 17.6995 11.5211 17.3604C13.0318 17.0146 14.4455 16.2351 15.5576 15.1583C16.6411 14.11 17.4426 12.7623 17.8544 11.3111C17.9029 11.1438 17.9425 10.9742 17.9799 10.8046C18.0306 10.5734 18.013 10.3334 17.8919 10.1264C17.784 9.94361 17.5748 9.76964 17.3656 9.72119C17.1409 9.67054 16.8877 9.68155 16.6873 9.80928C16.4957 9.92599 16.3261 10.1088 16.2777 10.3334Z"
                            fill="#402451"
                        />
                        <path
                            d="M1.73136 14.1034C2.05947 13.1653 2.38759 12.225 2.71571 11.2869C2.76195 11.1548 2.8082 11.0227 2.85444 10.8883C2.49329 11.0931 2.13214 11.2979 1.771 11.5027C2.7091 11.8308 3.64941 12.159 4.58752 12.4871C4.71965 12.5333 4.85178 12.5796 4.98611 12.6258C5.19311 12.6985 5.47938 12.6456 5.66436 12.5377C5.84714 12.4298 6.02111 12.2206 6.06956 12.0114C6.12021 11.7868 6.10919 11.5336 5.98147 11.3332C5.85155 11.1328 5.68198 11.0072 5.45516 10.928C4.51705 10.5999 3.57674 10.2717 2.63864 9.94362C2.50651 9.89738 2.37438 9.85113 2.24005 9.80489C2.04186 9.73442 1.73576 9.78066 1.56179 9.89297C1.3614 10.0229 1.23588 10.1925 1.1566 10.4193C0.828483 11.3574 0.500366 12.2977 0.172248 13.2358C0.126003 13.3679 0.0797586 13.5001 0.0335139 13.6344C-0.0391565 13.8414 0.0136947 14.1277 0.121599 14.3126C0.229504 14.4954 0.438706 14.6694 0.647908 14.7178C0.872526 14.7685 1.12577 14.7575 1.32616 14.6298C1.52656 14.4998 1.65208 14.3281 1.73136 14.1034Z"
                            fill="#402451"
                        />
                    </svg>
                </div>
                <div className="scroll-v1 overflow-y-auto space-y-[20px] w-[289px] max-4xl:w-full">
                    {lastPayments.map(({ date, price, clientName}) =>
                        <MolMemberPaymentUpdate
                            key={date}
                            date={new Date(date)}
                            value={price}
                            memberName={clientName}
                        />)}
                </div>
            </AtomCard>
        </>
    );
};
